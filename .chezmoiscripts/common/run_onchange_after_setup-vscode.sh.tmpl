#!/usr/bin/env sh

# generated by `code --list-extensions`
declare -a extensions=(
    # theme
    alexanderte.dainty-nord-vscode
    PKief.material-icon-theme

    eamodio.gitlens
    redhat.vscode-yaml
    ms-vscode.makefile-tools
    42Crunch.vscode-openapi

    # languages
    ms-python.python
    ms-toolsai.jupyter
    ms-python.isort
    ms-python.black-formatter
    golang.go

    # infrastructure
    ms-azuretools.vscode-docker
    ms-vscode-remote.remote-containers
    ms-kubernetes-tools.vscode-kubernetes-tools
    4ops.terraform
    redhat.ansible

    # utils
    alefragnani.Bookmarks
    anseki.vscode-color
    yzhang.markdown-all-in-one

    {{- if eq .chezmoi.os "darwin" }}
    GitHub.copilot
    {{- end }}
)

{{- if eq .chezmoi.os "linux" }}
alias code="flatpak run com.visualstudio.code"
{{- end }}

for extension in "${extensions[@]}"; do
    code --force --install-extension $extension
done
